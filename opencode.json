{
  "$schema": "https://opencode.ai/config.json",
  "instructions": [
    "/Users/buddhi/.config/opencode/AGENTS.md"
  ],
  "permission": {
    "edit": "allow",
    "bash": "allow",
    "write": "allow"
  },
  "command": {
    "opencode-init": {
      "description": "Initialize opencode - Check status, install tools, start services",
      "template": "You are an opencode initialization assistant.\n\n## Step 1: Get Status\n\nRun the status script to get deterministic tool and service status:\n\n```bash\n~/.config/opencode/bin/opencode-status.bash\n```\n\n## Step 2: Display Status\n\nRender the status as a formatted table:\n\n```bash\n~/.config/opencode/bin/opencode-status-table.bash\n```\n\n## Step 3: Prompt User\n\nUse the `question` tool:\n\n```javascript\nawait question({\n  questions: [{\n    header: 'Setup',\n    question: 'Current status shown above. Select actions:',\n    options: [\n      { label: 'Investigate', description: 'Check system status and issues' },\n      { label: 'Fix and Start', description: 'Install tools, init project, start services' },\n      { label: 'Skip', description: 'Do nothing' },\n    ],\n    multiple: false,\n  }],\n});\n```\n\n## Step 4: Execute\n\nBased on selection:\n\n### Investigate\n```bash\n~/.config/opencode/bin/opencode-status.bash\n```\n\n### Fix and Start\n```bash\n# Install tools\nnpm install -g @biomejs/biome prettier pm2 @steveyegge/osgrep 2>/dev/null\nbrew install go 2>/dev/null\ngo install github.com/steveyegge/beads/cmd/bd@latest 2>/dev/null\ncurl -fsSL https://raw.githubusercontent.com/Dicklesworthstone/beads_viewer/main/install.sh | bash 2>/dev/null\ncurl -fsSL https://raw.githubusercontent.com/Dicklesworthstone/ultimate_bug_scanner/master/install.sh | bash 2>/dev/null\n\n# Initialize project\ncm init --repo 2>/dev/null\nbd init 2>/dev/null\ntldr warm . 2>/dev/null\n\n# Start services\ncommand -v tldr && tldr daemon start 2>/dev/null &\nif command -v gptcache-server &>/dev/null; then\n  gptcache-server 2>/dev/null &\nelif command -v python3 &>/dev/null; then\n  python3 -m gptcache.server 2>/dev/null &\nfi\ncommand -v cass && cass index --full 2>/dev/null &\n\necho \"\\u2705 Tools installed, project initialized, and services started\"\n```\n\n## Important\n\n- Use `question` tool - single selection (multiple: false)\n- Hide command output with `2>/dev/null`\n- Display the status table and result message\n- Use emoji: \\u2705 for success",
      "agent": "build"
    }
  },
  "provider": {
    "glm-47": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Z.AI",
      "options": {
        "baseURL": "https://api.z.ai/api/coding/paas/v4"
      },
      "models": {
        "glm-4.7": {
          "name": "GLM 4.7 BYOM",
          "limit": {
            "context": 200000,
            "output": 8192
          }
        }
      }
    },
    "glm-46": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Z.AI",
      "options": {
        "baseURL": "https://api.z.ai/api/coding/paas/v4"
      },
      "models": {
        "glm-4.6": {
          "name": "GLM 4.6 BYOM",
          "limit": {
            "context": 200000,
            "output": 8192
          }
        }
      }
    },
    "gemini-2-5-pro": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Google AI",
      "options": {
        "baseURL": "https://generativelanguage.googleapis.com/v1beta/"
      },
      "models": {
        "gemini-2.5-pro": {
          "name": "Gemini 2.5 Pro [Google]",
          "limit": {
            "context": 1000000,
            "output": 65536
          }
        }
      }
    },
    "gemini-3-pro": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Google AI",
      "options": {
        "baseURL": "https://generativelanguage.googleapis.com/v1beta/"
      },
      "models": {
        "gemini-3.0-pro": {
          "name": "Gemini 3.0 Pro [Google]",
          "limit": {
            "context": 1000000,
            "output": 65536
          }
        }
      }
    },
    "kimi-thinking-moonshot": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Moonshot AI",
      "options": {
        "baseURL": "https://api.moonshot.ai/v1"
      },
      "models": {
        "kimi-k2-thinking": {
          "name": "Kimi K2 Thinking (MoonshotAI)",
          "limit": {
            "context": 256000,
            "output": 32768
          }
        }
      }
    },
    "kimi-thinking-fireworks": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Fireworks AI",
      "options": {
        "baseURL": "https://api.fireworks.ai/inference/v1"
      },
      "models": {
        "accounts/fireworks/models/kimi-k2-thinking": {
          "name": "Kimi K2 Thinking [Fireworks]",
          "limit": {
            "context": 256000,
            "output": 16384
          }
        }
      }
    }
  },
  "plugin": [
    "./plugin/gptcache.mjs",
    "./plugin/cass.mjs",
    "./plugin/beads.mjs",
    "./plugin/beads-tools.mjs",
    "./plugin/setup.mjs",
    "./plugin/init-commands.mjs",
    "./plugin/tldr.mjs",
    "opencode-gemini-auth@latest"
  ]
}